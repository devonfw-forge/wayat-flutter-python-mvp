{"openapi":"3.0.2","info":{"title":"WAYAT API Backend","version":"0.1.0"},"paths":{"/users/profile":{"get":{"tags":["User"],"summary":"Get User Profile","description":"Get a user profile","operationId":"get_user_profile_users_profile_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}}}},"post":{"tags":["User"],"summary":"Update User Profile","description":"Update a user profile","operationId":"update_user_profile_users_profile_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/find-by-phone":{"post":{"tags":["User"],"summary":"Get Users Filtered","description":"Get a list of users filtered by phone","operationId":"get_users_filtered_users_find_by_phone_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindByPhoneRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListUsersWithPhoneResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/add-contact":{"post":{"tags":["User"],"summary":"Add Contact","description":"Add a list of users to the contact list","operationId":"add_contact_users_add_contact_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddContactsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/preferences":{"post":{"tags":["User"],"summary":"Update Preferences","description":"Update the preferences of a user","operationId":"update_preferences_users_preferences_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePreferencesRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/contacts":{"get":{"tags":["User"],"summary":"Get Contacts","description":"Get the list of contacts for a user","operationId":"get_contacts_users_contacts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListUsersWithPhoneResponse"}}}}}}},"/map/update-location":{"post":{"tags":["Map"],"summary":"Update Location","description":"Update the location of a user","operationId":"update_location_map_update_location_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/map/update-map":{"post":{"tags":["Map"],"summary":"Open Map","description":"Communicates a new status for the map","operationId":"open_map_map_update_map_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMapRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/counter/increment":{"post":{"tags":["Counter"],"summary":"Increment Counter","description":"Increments the value of the counter by the amount given","operationId":"increment_counter_counter_increment_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IncrementCounterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AddContactsRequest":{"title":"AddContactsRequest","required":["users"],"type":"object","properties":{"users":{"title":"Users","type":"array","items":{"type":"string"}}}},"Coordinates":{"title":"Coordinates","required":["longitude","latitude"],"type":"object","properties":{"longitude":{"title":"Longitude","type":"number"},"latitude":{"title":"Latitude","type":"number"}}},"FindByPhoneRequest":{"title":"FindByPhoneRequest","required":["phones"],"type":"object","properties":{"phones":{"title":"Phones","type":"array","items":{"type":"string"}}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"IncrementCounterRequest":{"title":"IncrementCounterRequest","type":"object","properties":{"increment":{"title":"Increment","type":"integer","default":1}}},"ListUsersWithPhoneResponse":{"title":"ListUsersWithPhoneResponse","required":["users"],"type":"object","properties":{"users":{"title":"Users","type":"array","items":{"$ref":"#/components/schemas/UserWithPhoneResponse"}}}},"LocationUpdateRequest":{"title":"LocationUpdateRequest","required":["position","timestamp"],"type":"object","properties":{"position":{"$ref":"#/components/schemas/Coordinates"},"timestamp":{"title":"Timestamp","type":"integer"}}},"UpdateMapRequest":{"title":"UpdateMapRequest","required":["open"],"type":"object","properties":{"open":{"title":"Open","type":"boolean"},"position":{"$ref":"#/components/schemas/Coordinates"}}},"UpdatePreferencesRequest":{"title":"UpdatePreferencesRequest","required":["do_not_disturb"],"type":"object","properties":{"do_not_disturb":{"title":"Do Not Disturb","type":"boolean"}}},"UpdateUserRequest":{"title":"UpdateUserRequest","required":["id"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"name":{"title":"Name","type":"string"},"phone":{"title":"Phone","type":"string"},"surname":{"title":"Surname","type":"string"}}},"UserProfileResponse":{"title":"UserProfileResponse","required":["id","email","image_url","do_not_disturb","new_user"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"name":{"title":"Name","type":"string"},"phone":{"title":"Phone","type":"string"},"surname":{"title":"Surname","type":"string"},"email":{"title":"Email","type":"string"},"image_url":{"title":"Image Url","type":"string"},"do_not_disturb":{"title":"Do Not Disturb","type":"boolean"},"new_user":{"title":"New User","type":"boolean"}}},"UserWithPhoneResponse":{"title":"UserWithPhoneResponse","required":["id","phone","name","image_url"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"phone":{"title":"Phone","type":"string"},"name":{"title":"Name","type":"string"},"surname":{"title":"Surname","type":"string"},"image_url":{"title":"Image Url","type":"string"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}